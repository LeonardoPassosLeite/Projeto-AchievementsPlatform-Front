<div class="comments-container">
    <!-- InformaÃ§Ãµes do Jogo (Fixo) -->
    <div class="game-info-card">
        <img [src]="gameInfo.iconUrl" alt="Game Icon" class="game-icon">
        <div class="game-details">
            <h2 class="game-name">{{ gameInfo.gameName }}</h2>
        </div>
    </div>

    <!-- TÃ­tulo da SeÃ§Ã£o de ComentÃ¡rios -->
    <h2 class="title">ğŸ’¬ COMENTÃRIOS</h2>

    <!-- ComentÃ¡rios dos UsuÃ¡rios -->
    <div *ngIf="feedbacks$ | async as feedbacks; else noComments">
        <div *ngIf="feedbacks.items.length > 0; else noComments">
            <div class="feedback-card" *ngFor="let feedback of feedbacks.items">
                
                <!-- CabeÃ§alho do ComentÃ¡rio -->
                <div class="feedback-header">
                    <div class="user-info">
                        <img [src]="feedback.steamUserFeedback?.avatarUrl ?? 'assets/default-avatar.png'" 
                             alt="Avatar" class="user-avatar">
                        <div class="user-details">
                            <span class="user-name">{{ feedback.steamUserFeedback?.displayName }}</span>
                        </div>
                    </div>
                    <span class="comment-date">ğŸ•’ {{ feedback.createdAt | date:'dd/MM/yyyy HH:mm' }}</span>
                </div>
    
                <!-- ConteÃºdo do ComentÃ¡rio -->
                <div class="feedback-content">
                    <p class="comment-text">ğŸ“ "{{ feedback.comment }}"</p>
                </div>
    
                <!-- Detalhes Adicionais -->
                <div class="feedback-details">
                    <p class="playtime">â³ Tempo jogado: {{ formatPlaytime(gameInfo.playtimeForever) }}</p>
                    <p class="rating">â­ <span>{{ feedback.rating }}/5</span></p>
                    <p class="recommend">
                        {{ feedback.recommend ? 'âœ… Recomendado' : 'âŒ NÃ£o Recomendado' }}
                    </p>
                </div>
    
                <!-- AtualizaÃ§Ã£o do ComentÃ¡rio -->
                <p class="comment-update" *ngIf="feedback.updatedAt !== feedback.createdAt">
                    âœï¸ Atualizado em: {{ feedback.updatedAt | date:'dd/MM/yyyy HH:mm' }}
                </p>
            </div>            
        </div>
    </div>
    

    <!-- Template caso nÃ£o tenha comentÃ¡rios -->
    <ng-template #noComments>
        <p class="no-comments">ğŸš« Nenhum comentÃ¡rio encontrado para este jogo.</p>
    </ng-template>

    <!-- PaginaÃ§Ã£o -->
    <div class="pagination-controls">
        <button (click)="previousPage()" [disabled]="pageNumber <= 1">â¬…ï¸ Anterior</button>
        <span>PÃ¡gina {{ pageNumber }}</span>
        <button (click)="nextPage()" [disabled]="pageNumber * pageSize >= totalItems">PrÃ³xima â¡ï¸</button>
    </div>

    <!-- SeÃ§Ã£o de adicionar comentÃ¡rio -->
    <div class="add-comment">
        <textarea [(ngModel)]="newComment" placeholder="Escreva seu comentÃ¡rio..." rows="3"></textarea>
        <div class="rating-container">
            <label>â­ AvaliaÃ§Ã£o:</label>
            <input type="number" [(ngModel)]="newRating" min="1" max="5">
        </div>
        <label>
            <input type="checkbox" [(ngModel)]="recommend"> âœ… Recomendado
        </label>
        <button (click)="submitComment()">Enviar ComentÃ¡rio</button>
    </div>

</div>